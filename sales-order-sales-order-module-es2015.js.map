{"version":3,"sources":["./src/app/pages/outbound/sales-order/sales-order.component.html","./src/app/pages/outbound/sales-order/sales-order.component.ts","./src/app/pages/outbound/sales-order/sales-order.module.ts","./src/app/service/sales-order.service.ts"],"names":[],"mappings":"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","file":"sales-order-sales-order-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container-fluid\\\">\\r\\n  <div class=\\\"page-header\\\">\\r\\n    <div class=\\\"row m-0\\\">\\r\\n      <h2 class=\\\"mr-auto\\\">{{PageTitle}}</h2>\\r\\n      <div class=\\\"ml-3\\\">\\r\\n        <!-- <app-search></app-search> -->\\r\\n      </div>\\r\\n      <div class=\\\"ml-3\\\">\\r\\n        <app-btn-add [btnName]=\\\"'Add Sales Order'\\\" [editData]=\\\"'/outbound/sales-order/add'\\\">\\r\\n        </app-btn-add>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <app-table-list [headerData]=\\\"headerData\\\" [rawData]=\\\"objectArray\\\" (reloadEvent)=\\\"onReloadEvent()\\\">\\r\\n      </app-table-list>\\r\\n      <pagination [paginationList]=\\\"pagination\\\" [currentPage]=\\\"currentPage\\\" (onPageChange)=\\\"getPage($event)\\\">\\r\\n      </pagination>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { PaginationService } from 'src/app/service/pagination.service';\r\nimport { DataService } from 'src/app/service/data.service';\r\nimport { TextField, ActionField, TextViewUrlField, DateField, StatusField } from 'src/app/common-module/table-list/list-field-type';\r\nimport { SalesOrderService } from 'src/app/service/sales-order.service';\r\n\r\n@Component({\r\n  selector: 'app-sales-order',\r\n  templateUrl: './sales-order.component.html'\r\n})\r\nexport class SalesOrderComponent implements OnInit {\r\n\r\n  PageTitle = \"Manage Sales Order\"\r\n\r\n  loadform = false;\r\n  loadingState = true;\r\n  objectArray: Array<any> = [];\r\n  headerData: Array<any> = [];\r\n  pagination: any = null;\r\n  searchText: any = null;\r\n  currentPage: any = 1;\r\n\r\n  permissionObject: any = null;\r\n  constructor(\r\n    private paginationService: PaginationService,\r\n    private salesOrderService: SalesOrderService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // this.dataService.permission.subscribe((perms) => {\r\n    //   this.permissionObject = perms['activity'];\r\n    // });\r\n    this.setHeaderData();\r\n    this.loadform = false;\r\n    this.getObjects();\r\n  }\r\n\r\n  setHeaderData() {\r\n    this.headerData.push(\r\n\r\n      new TextViewUrlField({\r\n        label: \"Sales Order No\",\r\n        key: \"sales_order_no\",\r\n        viewUrl: {\r\n          path: '/outbound/sales-order/view/',\r\n          id: 'sales_order_id'\r\n        }\r\n      }),\r\n      new TextField({\r\n        label: \"Transfer Order No\",\r\n        key: '',\r\n      }),\r\n      new DateField({\r\n        label: \"Order Date\",\r\n        key: \"sales_order_date\",\r\n      }),\r\n      new TextField({\r\n        label: \"Client Name\",\r\n        key: 'client.label',\r\n      }),\r\n\r\n      new DateField({\r\n        label: \"Picking Date\",\r\n        key: \"sales_order_date\",\r\n      }),\r\n\r\n      \r\n\r\n    );\r\n    let canEdit = true;\r\n    let canView = true;\r\n    let canDelete = true;\r\n    let actions = {};\r\n    if (canEdit) {\r\n      actions['edit'] = {\r\n        path: '/outbound/sales-order/edit/',\r\n        id: 'sales_order_id'\r\n      }\r\n    }\r\n    if (canView) {\r\n      actions['view'] = {\r\n        path: '/outbound/sales-order/view/',\r\n        id: 'sales_order_id'\r\n      }\r\n    }\r\n    if (canDelete) {\r\n      actions['delete'] = {\r\n        path: 'sales-order/',\r\n        id: 'sales_order_id'\r\n      }\r\n    }\r\n    let actionColom = new ActionField(actions);\r\n    this.headerData.push(\r\n      actionColom\r\n    );\r\n  }\r\n\r\n\r\n  getObjects() {\r\n    const params: any = { page: this.currentPage };\r\n    if (this.searchText) {\r\n      params.search = this.searchText;\r\n    }\r\n    this.salesOrderService.getSalesOrderList(params).subscribe((response) => {\r\n      this.loadingState = false;\r\n      if (response.success && response.data) {\r\n        this.objectArray = response.data.list;\r\n        this.pagination = this.paginationService.getPager(response.data.pagination['total_page'], this.currentPage);\r\n      } else {\r\n        this.objectArray = [];\r\n        this.pagination = null;\r\n      }\r\n    }, (error) => {\r\n      this.loadingState = false;\r\n      this.objectArray = [];\r\n      this.pagination = null;\r\n\r\n    });\r\n  }\r\n\r\n  getPage(page: number) {\r\n    this.currentPage = page;\r\n    // this.currentPage = 1;\r\n    this.getObjects();\r\n  }\r\n\r\n  onReloadEvent() {\r\n    this.getObjects();\r\n  }\r\n\r\n  searchObject(text) {\r\n    this.searchText = text;\r\n    this.currentPage = 1;\r\n    this.getObjects();\r\n  }\r\n  ngAfterViewChecked(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SalesOrderComponent } from './sales-order.component';\r\nimport { SearchModule } from 'src/app/common-module/search/search.module';\r\nimport { BtnAddModule } from 'src/app/common-module/btn-add/btn-add.module';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TableListModule } from 'src/app/common-module/table-list/table-list.module';\r\nimport { PaginationModule } from 'src/app/common-module/pagination/pagination.module';\r\nimport { SalesOrderService } from 'src/app/service/sales-order.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesOrderComponent,\r\n    data: { title: 'sales_order_list' },\r\n  },\r\n  {\r\n    path: 'add',\r\n    loadChildren: () => import('./add-sales-order/add-sales-order.module').then(m => m.AddSalesOrderModule),\r\n    data: { title: 'add_sales_order' },\r\n \r\n  },\r\n  {\r\n    path: 'edit/:id',\r\n    loadChildren: () => import('./add-sales-order/add-sales-order.module').then(m => m.AddSalesOrderModule),\r\n    data: { title: 'edit_sales_order' },\r\n \r\n  },\r\n  {\r\n    path: 'view/:id',\r\n    loadChildren: () => import('./sales-order-view/sales-order-view.module').then(m => m.SalesOrderViewModule),\r\n    data: { title: 'view_sales_order' },\r\n\r\n  }\r\n\r\n];\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [SalesOrderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SearchModule,\r\n    BtnAddModule,\r\n    TableListModule,\r\n    PaginationModule,\r\n    RouterModule.forChild(routes)\r\n  ], providers: [SalesOrderService]\r\n})\r\nexport class SalesOrderModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable()\r\nexport class SalesOrderService {\r\n\r\n  API_URL: string = environment.APIEndpoint;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n  ) { }\r\n\r\n  getSalesOrderList(param): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order`, { params: param });\r\n  }\r\n\r\n  addSalesOrder(data): Observable<any> {\r\n    return this.http.post(`${this.API_URL}/sales-order`, data);\r\n  }\r\n\r\n  editSalesOrder(id, data): Observable<any> {\r\n    return this.http.put(`${this.API_URL}/sales-order/${id}`, data);\r\n  }\r\n\r\n  getSalesOrderById(id, param = null): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order/${id}`, { params: param });\r\n  }\r\n\r\n  getSalesOrderViewById(id): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order/${id}/view`);\r\n  }\r\n\r\n  getShippingAddressData(id): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order/shipping-address/${id}`);\r\n  }\r\n\r\n  getSalesOrderMasterData(): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order/master-data`);\r\n  }\r\n\r\n  \r\n\r\n  deleteSalesOrder(id): Observable<any> {\r\n    return this.http.delete(`${this.API_URL}/sales-order/${id}`);\r\n  }\r\n\r\n  // Product\r\n\r\n  getSalesOrderProductList(param = null): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order-detail`, { params: param });\r\n  }\r\n  getSalesOrderProductMasterData(param = null): Observable<any> {\r\n    return this.http.get(`${this.API_URL}/sales-order-detail/master-data`, { params: param });\r\n  }\r\n\r\n  editSalesOrderProduct(id, data): Observable<any> {\r\n    return this.http.put(`${this.API_URL}/sales-order-detail/${id}`, data);\r\n  }\r\n\r\n  addSalesOrderProduct(data): Observable<any> {\r\n    return this.http.post(`${this.API_URL}/sales-order-detail`, data);\r\n  }\r\n\r\n  deleteSalesOrderProduct(id): Observable<any> {\r\n    return this.http.delete(`${this.API_URL}/sales-order-detail/${id}`);\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}