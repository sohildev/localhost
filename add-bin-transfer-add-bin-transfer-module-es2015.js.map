{"version":3,"sources":["./src/app/pages/operation/add-bin-transfer/add-bin-transfer.component.html","./src/app/pages/operation/add-bin-transfer/add-bin-transfer.component.ts","./src/app/pages/operation/add-bin-transfer/add-bin-transfer.module.ts","./src/app/service/bin-transfer.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gPAAiL,WAAW,4sHAA4sH,sDAAsD,yI;;;;;;;;;;;;;;;;;;;;ACA35H;AACkB;AAGM;AAC/B;AAM3C,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;IAalC,YACU,EAAe,EACf,QAAkB,EAClB,kBAAsC;QAFtC,OAAE,GAAF,EAAE,CAAa;QACf,aAAQ,GAAR,QAAQ,CAAU;QAClB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAfhD,cAAS,GAAG,6BAA6B;QACzC,iBAAY,GAAG,KAAK,CAAC;QAErB,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,aAAQ,GAAQ,EAAE,CAAC;QACnB,uBAAkB,GAAQ,EAAE,CAAC;QAC7B,eAAU,GAAG,KAAK,CAAC;QACnB,eAAU,GAAG;YACX,iBAAiB,EAAE,IAAI;YACvB,QAAQ,EAAE,IAAI;SACf,CAAC;QAOA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC3B,iBAAiB,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpE,iBAAiB,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpE,MAAM,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACzD,GAAG,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtD,eAAe,EAAE,CAAC,IAAI,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClE,QAAQ,EAAE,CAAC,IAAI,CAAC;YAChB,MAAM,EAAE,CAAC,IAAI,CAAC;YACd,QAAQ,EAAE,CAAC,IAAI,CAAC;YAChB,MAAM,EAAE,CAAC,IAAI,CAAC;YACd,QAAQ,EAAE,CAAC,IAAI,CAAC;YAChB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACD,aAAa;QACX,IAAI,CAAC,kBAAkB,CAAC,wBAAwB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACjE,IAAI,GAAG,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC9C,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;aAC3C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC/F,IAAI,GAAG,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;aAC1D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACrF,IAAI,GAAG,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;oBACtB,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;oBAC3B,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ;oBAC3C,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO;oBACzC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM;oBACvC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM;oBACvC,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ;iBAC5C,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,QAAa;QACtB,IAAI,QAAQ,CAAC,KAAK,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,MAAM,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACnE,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,QAAQ,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACnE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC7C,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC;gBAC5C,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,OAAO;gBACjC,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM;gBAC/B,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,MAAM;gBAC/B,UAAU,EAAE,QAAQ,CAAC,KAAK,CAAC,QAAQ;gBACnC,UAAU,EAAE,QAAQ,CAAC,KAAK,CAAC,QAAQ;aACpC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEjD,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAClE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,QAAQ,CAAC,OAAO,EAAE;oBACpB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;qBAAM;oBACL,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;wBACvB,IAAI,GAAG,CAAC,cAAc,CAAC,mBAAmB,CAAC,EAAE;4BAC3C,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,GAAG,GAAG,CAAC,mBAAmB,CAAC,CAAC;yBACjE;6BAAM;4BACL,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,KAAK,QAAQ,CAAC,KAAK,EAAE,CAAC;yBACrD;oBACH,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE;gBACX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC1B,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IACD,IAAI;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;CAEF;;YA7Fe,0DAAW;YACL,wDAAQ;YACE,uFAAkB;;AAhBrC,uBAAuB;IAJnC,+DAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;QAChC,4QAAgD;KACjD,CAAC;GACW,uBAAuB,CA2GnC;AA3GmC;;;;;;;;;;;;;;;;;;;;;;;;;;ACXK;AACM;AACQ;AACgB;AAClB;AACwC;AACjC;AACN;AACoB;AAE1E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mFAAuB;QAClC,IAAI,EAAE,EAAE,KAAK,EAAE,kBAAkB,EAAE;KACpC;CACF;AAcD,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAI;AAAxB,oBAAoB;IAZhC,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,mFAAuB,CAAC;QACvC,OAAO,EAAE;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,kEAAmB;YACnB,0GAAoB;YACpB,yEAAY;YACZ,mEAAc;SACf;QACA,SAAS,EAAE,CAAC,uFAAkB,CAAC;KACjC,CAAC;GACW,oBAAoB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;AC9BiB;AACP;AAEgB;AAG3D,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAI7B,YACU,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAH1B,YAAO,GAAW,wEAAW,CAAC,WAAW,CAAC;IAItC,CAAC;IAGL,cAAc,CAAC,IAAI;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,eAAe,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAGD,wBAAwB;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,2BAA2B,CAAC,CAAC;IACnE,CAAC;IAED,kBAAkB,CAAC,EAAE;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,qBAAqB,EAAE,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,UAAU,CAAC,EAAE;QACX,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,iCAAiC,EAAE,EAAE,CAAC,CAAC;IAC7E,CAAC;CAGF;;YAtBiB,+DAAU;;AALf,kBAAkB;IAD9B,gEAAU,EAAE;GACA,kBAAkB,CA2B9B;AA3B8B","file":"add-bin-transfer-add-bin-transfer-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"page-header\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <h2 class=\\\"mr-auto\\\">{{PageTitle}}</h2>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card\\\">\\r\\n        <form [formGroup]=\\\"addForm\\\" (ngSubmit)=\\\"submitForm(addForm)\\\" class=\\\"form-horizontal\\\" role=\\\"form\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Transfer Order No. <em>*</em></label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <input [formControl]=\\\"addForm.controls['transfer_order_no']\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">From Bin <em>*</em></label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <ng-select [formControl]=\\\"addForm.controls['from_location_bin']\\\" [items]=\\\"fromLocationBinArray\\\"\\r\\n                                bindLabel=\\\"label\\\" bindValue=\\\"value\\\" (change)=\\\"getSkuDropDownData()\\\" placeholder=\\\"Select location bin\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">SKU <em>*</em></label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <ng-select [formControl]=\\\"addForm.controls['sku_no']\\\" [items]=\\\"skuArray\\\"\\r\\n                                bindLabel=\\\"label\\\" bindValue=\\\"value\\\" placeholder=\\\"Select sku\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Total Quantity\\r\\n                            <em>*</em></label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <input number [formControl]=\\\"addForm.controls['qty']\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">To Bin <em>*</em></label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <ng-select [formControl]=\\\"addForm.controls['to_location_bin']\\\" [items]=\\\"toLocationBinArray\\\"\\r\\n                            bindLabel=\\\"label\\\" bindValue=\\\"value\\\"  (change)=\\\"setBinData()\\\" placeholder=\\\"Select location bin\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <label class=\\\"control-label text-md-right col-md-4 col-lg-3\\\">Location</label>\\r\\n                        <div class=\\\"col-md-5\\\">\\r\\n                            <input [formControl]=\\\"addForm.controls['location']\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"\\\" readonly>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"text-right border-top py-4 mt-5 card-footer\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"back()\\\">Cancel</button>\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-secondary ml-2\\\"\\r\\n                    [ngClass]=\\\"{'qt-loader qt-loader-mini qt-loader-left': showLoader}\\\"\\r\\n                    [disabled]=\\\"showLoader\\\">Submit</button>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n    </div>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CommonService } from 'src/app/service/common.service';\r\nimport { BinTransferService } from 'src/app/service/bin-transfer.service';\r\nimport { Location } from '@angular/common';\r\ndeclare var document: any;\r\n@Component({\r\n  selector: 'app-add-bin-transfer',\r\n  templateUrl: './add-bin-transfer.component.html',\r\n})\r\nexport class AddBinTransferComponent implements OnInit {\r\n  PageTitle = \"Generate Bin Transfer Order\"\r\n  loadingState = false;\r\n  addForm: FormGroup;\r\n  fromLocationBinArray: any = [];\r\n  skuArray: any = [];\r\n  toLocationBinArray: any = [];\r\n  showLoader = false;\r\n  formErrors = {\r\n    from_location_bin: null,\r\n    apierror: null,\r\n  };\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private location: Location,\r\n    private binTransferService: BinTransferService) {\r\n\r\n    this.addForm = this.fb.group({\r\n      transfer_order_no: [null, Validators.compose([Validators.required])],\r\n      from_location_bin: [null, Validators.compose([Validators.required])],\r\n      sku_no: [null, Validators.compose([Validators.required])],\r\n      qty: [null, Validators.compose([Validators.required])],\r\n      to_location_bin: [null, Validators.compose([Validators.required])],\r\n      location: [null],\r\n      bin_id: [null],\r\n      level_id: [null],\r\n      bay_id: [null],\r\n      aisle_id: [null],\r\n      area_id: [null]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getMasterData();\r\n  }\r\n  getMasterData() {\r\n    this.binTransferService.getBinTransferMasterData().subscribe(res => {\r\n      if (res.success) {\r\n        this.fromLocationBinArray = res.data.from_bin;\r\n        this.toLocationBinArray = res.data.to_bin;\r\n      }\r\n    });\r\n  }\r\n  getSkuDropDownData() {\r\n    this.binTransferService.getSkuDropDownData(this.addForm.value.from_location_bin).subscribe(res => {\r\n      if (res.success) {\r\n        this.skuArray = res.data.sku;\r\n        this.addForm.patchValue({ location: res.data.location });\r\n      }\r\n    });\r\n  }\r\n\r\n  setBinData() {\r\n    this.binTransferService.getBinData(this.addForm.value.to_location_bin).subscribe(res => {\r\n      if (res.success) {\r\n        this.addForm.patchValue({\r\n          location: res.data.location,\r\n          aisle_id: res.data.to_location_bin.aisle_id,\r\n          area_id: res.data.to_location_bin.area_id,\r\n          bay_id: res.data.to_location_bin.bay_id,\r\n          bin_id: res.data.to_location_bin.bin_id,\r\n          level_id: res.data.to_location_bin.level_id\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  submitForm(formData: any): void {\r\n    if (formData.valid) {\r\n      this.showLoader = true;\r\n      const data = new FormData();\r\n      data.append('transfer_order_no', formData.value.transfer_order_no);\r\n      data.append('from_location_bin', formData.value.from_location_bin);\r\n      data.append('sku_no', formData.value.sku_no);\r\n      data.append('qty', formData.value.qty);\r\n      data.append('to_location_bin', JSON.stringify({\r\n        'area_id': formData.value.area_id,\r\n        'bay_id': formData.value.bay_id,\r\n        'bin_id': formData.value.bin_id,\r\n        'level_id': formData.value.level_id,\r\n        'aisle_id': formData.value.aisle_id,\r\n      }));\r\n      data.append('location', formData.value.location);\r\n\r\n      this.binTransferService.addBinTransfer(data).subscribe((response) => {\r\n        this.showLoader = false;\r\n        if (response.success) {\r\n          this.back();\r\n        } else {\r\n          response.error.map(obj => {\r\n            if (obj.hasOwnProperty('from_location_bin')) {\r\n              this.formErrors['from_location_bin'] = obj['from_location_bin'];\r\n            } else {\r\n              this.formErrors['apierror'] = `* ${response.error}`;\r\n            }\r\n          });\r\n        }\r\n      }, (error) => {\r\n        this.showLoader = false;\r\n      });\r\n    }\r\n  }\r\n  back() {\r\n    this.location.back();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AddBinTransferComponent } from './add-bin-transfer.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormValidationModule } from 'src/app/shared/form-validation/form-validation.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { BinTransferService } from 'src/app/service/bin-transfer.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddBinTransferComponent,\r\n    data: { title: 'bin_transfer_add' },\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [AddBinTransferComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    FormValidationModule,\r\n    SharedModule,\r\n    NgSelectModule\r\n  ],\r\n   providers: [BinTransferService]\r\n})\r\nexport class AddBinTransferModule { }\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\nexport class BinTransferService {\n\n  API_URL: string = environment.APIEndpoint;\n\n  constructor(\n    private http: HttpClient,\n  ) { }\n\n \n  addBinTransfer(data): Observable<any> {\n    return this.http.post(`${this.API_URL}/bin-transfer`, data);\n  }\n\n  \n  getBinTransferMasterData(): Observable<any> {\n    return this.http.get(`${this.API_URL}/bin-transfer/master-data`);\n  }\n\n  getSkuDropDownData(id): Observable<any> {\n    return this.http.get(`${this.API_URL}/bin-transfer/sku/${id}`);\n  }\n\n  getBinData(id): Observable<any> {\n    return this.http.get(`${this.API_URL}/bin-transfer/to-bin-location/${id}`);\n  }\n\n \n}\n"],"sourceRoot":"webpack:///"}