{"version":3,"sources":["webpack:///src/app/pages/inbound/unload/unloading-view/unloading-view.component.html","webpack:///src/app/pages/inbound/unload/unloading-view/unloading-view.component.ts","webpack:///src/app/pages/inbound/unload/unloading-view/unloading-view.module.ts"],"names":["UnloadingViewComponent","activatedRoute","unloadService","location","dataService","PageTitle","orderDetails","productList","date_format","snapshot","paramMap","get","viewId","currentCompany","subscribe","response","timezone","String","format","time_format","label","getObject","back","getUnloadGeneratedViewById","success","data","order_detail","product","error","window","print","date_string_you_received","date","Date","newDate","getTime","getTimezoneOffset","offset","hours","getHours","setHours","selector","template","routes","path","component","UnloadingViewModule","declarations","imports","forChild"],"mappings":"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","file":"unloading-view-unloading-view-module-es5.js","sourcesContent":["export default \"<div class=\\\"container-fluid\\\">\\r\\n  <div class=\\\"page-header border-b\\\">\\r\\n    <div class=\\\"row m-0\\\">\\r\\n      <h2 class=\\\"mr-auto\\\">{{PageTitle}}</h2>\\r\\n      <div class=\\\"ml-3\\\">\\r\\n        <a class=\\\"btn shadow-none btn-link\\\" (click)=\\\"back()\\\">\\r\\n          <i class=\\\"fa fa-chevron-left mr-2 mt-1\\\"></i>Back to Order\\r\\n        </a>\\r\\n      </div>\\r\\n      <div class=\\\"ml-3\\\">\\r\\n        <a class=\\\"btn btn-primary\\\" (click)=\\\"print()\\\">\\r\\n          <i class=\\\"fa fa-print mr-2 mt-1\\\"></i>Print\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n          <div>\\r\\n            <label class=\\\"text-muted mb-1\\\">Purchase Order Number</label>\\r\\n            <div>\\r\\n              {{orderDetails?.po_no}}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"mt-3\\\">\\r\\n            <label class=\\\"text-muted mb-1\\\">PO Date</label>\\r\\n            <div>{{orderDetails?.po_date|date:date_format :timezone}}</div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-7 text-right align-items-center d-flex justify-content-end\\\">\\r\\n              <label class=\\\"text-muted mb-1\\\">Date of Receipt</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-5\\\">\\r\\n              <div class=\\\"border p-2\\\">{{orderDetails?.receipt_date |date:date_format :timezone}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-7 text-right align-items-center d-flex justify-content-end\\\">\\r\\n              <label class=\\\"text-muted mb-1\\\">Product Arrival Date &Time</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-5\\\">\\r\\n              <div *ngIf=\\\"orderDetails?.arrival_date\\\" class=\\\"border p-2 border-top-0 border-bottom-0\\\">\\r\\n                {{ orderDetails?.arrival_date |date:date_format :timezone }}\\r\\n                {{ convertUTCDateToLocalDate(orderDetails?.arrival_date) |date:time_format :timezone }}\\r\\n              </div>\\r\\n              <div *ngIf=\\\"!orderDetails?.arrival_date\\\" class=\\\"border p-2 border-top-0 border-bottom-0\\\">-\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-7 text-right align-items-center d-flex justify-content-end\\\">\\r\\n              <label class=\\\"text-muted mb-1\\\">Invoice No. </label>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-5\\\">\\r\\n              <div class=\\\"border p-2\\\">{{orderDetails?.invoice_no ? orderDetails?.invoice_no :'-'}}</div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"border my-4 border-left-0 border-right-0\\\">\\r\\n        <div class=\\\"row p-3\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h6 class=\\\"mb-3\\\">From</h6>\\r\\n\\r\\n            <p class=\\\"mt-3 mb-0\\\">{{orderDetails?.supplier?.supplier_code}} : {{orderDetails?.supplier?.supplier_name}}\\r\\n            </p>\\r\\n            <p class=\\\"my-1\\\">\\r\\n              <span *ngIf=\\\"orderDetails?.supplier?.address?.street_address\\\">\\r\\n                {{orderDetails?.supplier?.address?.street_address}} ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.supplier?.address?.city\\\"> {{orderDetails?.supplier?.address?.city}} ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.supplier?.address?.state\\\"> {{orderDetails?.supplier?.address?.state}}\\r\\n                ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.supplier?.address?.country_name\\\">\\r\\n                ({{orderDetails?.supplier?.address?.country_name}} )</span>\\r\\n            </p>\\r\\n            <p class=\\\"mb-0\\\"> {{orderDetails?.supplier?.dial_code}} {{orderDetails?.supplier?.phone_number}} </p>\\r\\n\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h6>To</h6>\\r\\n            <p class=\\\"mt-3 mb-0\\\">{{orderDetails?.to_details?.client_code}} : {{orderDetails?.to_details?.client_name}}\\r\\n            </p>\\r\\n            <p class=\\\"my-1\\\">\\r\\n              <span *ngIf=\\\"orderDetails?.to_details?.address?.street_address\\\">\\r\\n                {{orderDetails?.to_details?.address?.street_address}} ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.to_details?.address?.city\\\"> {{orderDetails?.to_details?.address?.city}}\\r\\n                ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.to_details?.address?.state\\\"> {{orderDetails?.to_details?.address?.state}}\\r\\n                ,</span>\\r\\n              <span *ngIf=\\\"orderDetails?.to_details?.address?.country_name\\\">\\r\\n                ({{orderDetails?.to_details?.address?.country_name}} )</span>\\r\\n            </p>\\r\\n            <p class=\\\"mb-0\\\"> {{orderDetails?.to_details?.dial_code}} {{orderDetails?.to_details?.phone_number}} </p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n          <div class=\\\"table-responsive\\\">\\r\\n            <table class=\\\"table table-hover\\\">\\r\\n              <thead>\\r\\n                <tr>\\r\\n                  <th>No.</th>\\r\\n                  <th>Product</th>\\r\\n                  <th>SKU No.</th>\\r\\n                  <th>Order Qty (pcs)</th>\\r\\n                  <th>Receive Qty (pcs)</th>\\r\\n                  <th>Damage Qty</th>\\r\\n                  <th>Missing Qty</th>\\r\\n                </tr>\\r\\n\\r\\n              </thead>\\r\\n              <tbody>\\r\\n                <tr *ngFor=\\\"let item of productList; let i=index\\\">\\r\\n                  <td>\\r\\n                    {{i+1}}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.product_name ? item?.product_name :'-'}}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.sku_no ? item?.sku_no :'-'}}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.order_qty }}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.received_qty}}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.damaged_qty }}\\r\\n                  </td>\\r\\n                  <td>\\r\\n                    {{item?.missing_qty }}\\r\\n                  </td>\\r\\n                </tr>\\r\\n                <tr *ngIf=\\\"productList?.length == 0\\\">\\r\\n                  <td colspan=\\\"6\\\">No records found</td>\\r\\n                </tr>\\r\\n              </tbody>\\r\\n            </table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"border border-left-0 border-right-0 mt-3 pt-4\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h6 class=\\\"p-2 bg-light\\\">Delivery By</h6>\\r\\n            <div class=\\\"row mt-3\\\">\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Name</label>\\r\\n                <div>{{orderDetails?.delivery_name ? orderDetails?.delivery_name :'-' }}</div>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Phone No.</label>\\r\\n                <div>{{orderDetails?.delivery_phone ? orderDetails?.delivery_phone :'-' }}</div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row mt-2\\\">\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Vehicle No.</label>\\r\\n                <div>{{orderDetails?.delivery_vehicle_no ? orderDetails?.delivery_vehicle_no :'-' }}</div>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Signature</label>\\r\\n                <div>{{orderDetails?.delivery_sign ? orderDetails?.delivery_sign :'-' }}</div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h6 class=\\\"p-2 bg-light\\\">Received By</h6>\\r\\n            <div class=\\\"row mt-3\\\">\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Name</label>\\r\\n                <div>{{orderDetails?.receiver_name ? orderDetails?.receiver_name :'-' }}</div>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Phone No.</label>\\r\\n                <div>{{orderDetails?.receiver_phone ? orderDetails?.receiver_phone :'-' }}</div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row mt-2\\\">\\r\\n              <div class=\\\"col-md-6\\\">\\r\\n                <label class=\\\"text-muted mb-1\\\">Signature</label>\\r\\n                <div>{{orderDetails?.receiver_sign ? orderDetails?.receiver_sign :'-' }}</div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UnloadService } from 'src/app/service/unload.service';\r\nimport { Location } from '@angular/common';\r\nimport { DataService } from 'src/app/service/data.service';\r\n\r\n@Component({\r\n  selector: 'app-unloading-view',\r\n  templateUrl: './unloading-view.component.html'\r\n})\r\nexport class UnloadingViewComponent implements OnInit {\r\n\r\n  PageTitle = \"Unloading View\";\r\n  viewId: string;\r\n  objectArray: any;\r\n  orderDetails: any = {};\r\n  productList: Array<any> = [];\r\n  currentCompany:any;\r\n  date_format:string=\"M/d/yy\";\r\n  timezone:string\r\n  time_format:string;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private unloadService: UnloadService,\r\n    private location: Location,\r\n    private dataService:DataService\r\n  ) {\r\n    if (this.activatedRoute.snapshot.paramMap.get('id')) {\r\n      this.viewId = this.activatedRoute.snapshot.paramMap.get('id');\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dataService.currentCompany.subscribe((response)=>{\r\n      if(response){     \r\n      this.timezone=String(response.timezone.format);\r\n      this.time_format=response.time_format.label;\r\n      this.date_format=response.date_format.label;\r\n      this.currentCompany=response;\r\n      }\r\n      \r\n    });\r\n    this.getObject();\r\n  }\r\n\r\n  back() {\r\n    this.location.back();\r\n  }\r\n\r\n  getObject() {\r\n    this.unloadService.getUnloadGeneratedViewById(this.viewId).subscribe((response) => {\r\n      if (response.success) {\r\n        this.orderDetails = response.data.order_detail;\r\n        this.productList = response.data.product;\r\n        // this.pagination = this.paginationService.getPager(response.data.pagination['total_page'], this.currentPage);\r\n      } else {\r\n        this.orderDetails = {};\r\n        this.productList = [];\r\n      }\r\n    }, (error) => {\r\n      this.orderDetails = {};\r\n      this.productList = [];\r\n\r\n    });\r\n  }\r\n\r\n  print() {\r\n    window.print();\r\n  }\r\n\r\n   convertUTCDateToLocalDate(date_string_you_received) {\r\n     let date=new Date(date_string_you_received)\r\n    let newDate = new Date(date.getTime()+date.getTimezoneOffset()*60*1000);\r\n    let offset = date.getTimezoneOffset() / 60;\r\n    let hours = date.getHours();\r\n    newDate.setHours(hours - offset);\r\n    return newDate;   \r\n}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UnloadingViewComponent } from './unloading-view.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: ':id',\r\n    component: UnloadingViewComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [UnloadingViewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class UnloadingViewModule { }\r\n"]}